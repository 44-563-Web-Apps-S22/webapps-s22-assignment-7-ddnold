<!DOCTYPE html>
<html> <head> 
<title>Reversed queue</title>
<style>
.flex-container {
    display: flex;  flex-direction:row;
    background-color: red;
}

.flex-container > div {  /*div children of the flex container*/
  background-color: #f1f1f1; 
  margin: 10px;  padding: 20px;  font-size: 30px;
}

/* Responsive layout */
@media (max-width: 600px) { 
	 .flex-container{
		 flex-direction:column;
		 background-color: green;
	  }
	}
</style></head>



<body>
	<h1>Dustin Nold builds a reversed queue</h1>
	<div class="flex-container" id="target">
	  <div class="queue">row item 1</div>   
	  <div class="queue">row item 2</div>  
	  <div class="queue">row item 3</div>  
	</div>
	
	<p> Press the add value button to create an new element of type div and then add it to the front of the container.
		The fetch button will remove the last element, zap will remove any elements with the same value as the input. 
	</p>
	<input type="text" id="input"> 
	<button onclick="makeNewDiv()">Add value</button>
	<button onclick="fetchItem()">Fetch</button>
	<button onclick="zap()">zap values</button>
	<button onclick="unique()">Only Unique</button>
	
	
</body>
<script>
	function makeNewDiv(){
		/* make the div and its text */
		let element = document.createElement("div")
		element.innerHTML = document.getElementById("input").value
		element.className = "queue"

		/* add it to the container */
		let container = document.getElementById('target')
		container.insertBefore(element, container.firstChild)
		length = length+1
		console.log("Added element with value: " + document.getElementById("input").value + " to the front of the queue")
		
	}
	function fetchItem(){
		let queueitems = document.getElementsByClassName("queue")
		let length = queueitems.length
		if(length>0){
			queueitems[length-1].remove();
			console.log("Removed last element from list")
		}
	}
	function zap(){
		let queueitems = document.getElementsByClassName("queue")
		let input = document.getElementById("input").value
		let length = queueitems.length
		for(let i=length-1; i>-1; i--){
			if(queueitems[i].innerHTML==input){
				queueitems[i].remove()
				console.log("Removed element " + i + " from queue containing: " + document.getElementById("input").value)
			}
		}
	}
	function unique(){
		let queueitems = document.getElementsByClassName("queue")
		let length = queueitems.length
		let myArray = []
		for(let i=length-1; i>-1; i--){
			if(myArray.includes(queueitems[i].innerHTML)==false){
				myArray.push(queueitems[i].innerHTML)
				console.log("One " + document.getElementById("input").value + " can remain")
			}
			else{
				queueitems[i].remove()
				console.log("Removed element " + i + " from queue containing repeating value: " + document.getElementById("input").value)
			}
		}
	}
</script>
</html>	